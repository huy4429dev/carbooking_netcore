@{
    Layout = "_Layout";
    ViewBag.Title = "Vé xe";
}
@section Css{
    <style>
        .result-item__detail-desc{
            display: none;
        }
        .result-item__detail-desc.active{
            display: block;
        }
        .form-book input{
            font-size: 14px !important;            
        }
    </style>

}
<div class="search-rs__header">
        <div class="container">
            <ul class="search-rs__header-list d-flex">
                <li class="search-rs__header-item">
                    <a href="" class="search-rs__header-link">
                        Vé xe khách
                    </a>
                </li>
                <li class="search-rs__header-item">
                    <a href="" class="search-rs__header-link">
                        Xe đi từ A
                    </a>
                </li>
                <li class="search-rs__header-item">
                    <a href="" class="search-rs__header-link">
                        Xe đi đến B
                    </a>
                </li>
            </ul>
            <div class="header__content">
                <form class="header__form-search d-flex justify-content-center">
                    <div>
                        <i class="fas fa-map-marker-alt"></i>
                        <select class="select-start-point header__form-search-input" name="states[]"
                            multiple="multiple">
                            <optgroup label="Tỉnh thành phố">
                                <option>Nghệ An</option>
                                <option>Hà Nội</option>
                                <option>Nested option</option>
                            </optgroup>
                            <optgroup label="Quần huyện">
                                <option>Nghi Lộc</option>
                                <option>Hà Nội</option>
                            </optgroup>
                        </select>
                    </div>
                    <div>
                        <i class="fas fa-map-marker-alt"></i>
                        <select class="select-end-point header__form-search-input" name="states[]" multiple="multiple">
                            <optgroup label="Tỉnh thành phố">
                                <option>Nghệ An</option>
                                <option>Hà Nội</option>
                                <option>Nested option</option>
                            </optgroup>
                            <optgroup label="Quần huyện">
                                <option>Nghi Lộc</option>
                                <option>Hà Nội</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="header__form-search-input-date-picker">
                        <i class="far fa-calendar-alt"></i>
                        <input type="text" class="header__form-search-input" id="datepicker">
                    </div>
                    <button class="btn btn-warning header__form-search-button m-0">Tìm Vé Xe</button>
                </form>
            </div>
        </div>
    </div>

    <div class="container mt-4">
        <div class="row ">
            <!-- FILTER  -->
            <div class="col-3 px-3">
                <header class="search-rs__filter d-flex justify-content-between">
                    <span>Bộ tìm kiếm</span>
                    <span>Xóa lọc</span>
                </header>
                <div class="search-rs__filter-main search-rs__filter-box">
                    <div class="filter__main">
                        <span class="filter__main-title mt-4">
                            Tiêu chí phổ biến
                        </span>
                        <ul class="filter__main-list">
                            <li class="filter__main-item d-flex align-items-center">
                                <input id="filter-one" type="checkbox" class="mr-4" value="Xe an toàn Covid-19">
                                <label for="filter-one">
                                    Xe an toàn Covid-19
                                </label>
                            </li>
                            <li class="filter__main-item d-flex align-items-center">
                                <input id="filter-two" type="checkbox" class="mr-4" value="Xe an toàn Covid-19">
                                <label for="filter-two">
                                    Chuyến giảm giá
                                </label>
                            </li>
                            <li class="filter__main-item d-flex align-items-center">
                                <input id="filter-three" type="checkbox" class="mr-4" value="Xe an toàn Covid-19">
                                <label for="filter-three">
                                    Xe có GPS
                                </label>
                            </li>
                            <li class="filter__main-item d-flex align-items-center">
                                <input id="filter-fourd" type="checkbox" class="mr-4" value="Xe an toàn Covid-19">
                                <label for="filter-fourd">
                                    Xe VIP Limousine
                                </label>
                            </li>
                            <li class="filter__main-item">
                                <span class="filter__main-title">
                                    
                                </span>
                           
                            </li>
                        </ul>
                        <span class="filter__main-title">
                            Giờ đi
                        </span>
                        <ul class="filter__main-time">
                            <li class="filter__main-item-item">
                                <p id="slider-range-time"></p>
                                <p> 
                                    <input type="text" id="amount" readonly
                                        style="border:0; color:#007bff; font-weight:bold;">
                                </p>
                            </li>
                        </ul>

                        <span class="filter__main-title">
                            Giá vé
                        </span>
                        <ul class="filter__main-price">
                            <li class="filter__main-item-price">
                                <p id="slider-range-price"></p>
                                <p> 
                                    <input type="text" id="price" readonly
                                        style="border:0; color:#007bff; font-weight:bold;">
                                </p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-9">
                <div class="search-result__result">
                    <h3 class="search-result__result-heading  mb-5 mt-4">
                        Vé xe từ Hà Nội đi Sa Pa - Lào Cai: 75 chuyến
                    </h3>
                    <ul class="search-result__result-filter-list mb-5 d-flex justify-content-between">
                        <li class="search-result__result-filter-item">
                            Sắp xếp theo:
                        </li>
                        <li class="search-result__result-filter-item">
                            Giá thấp nhất
                        </li>
                        <li class="search-result__result-filter-item">
                            Giá cao nhất
                        </li>
                    </ul>

                    <div class="search-result__result-item">
                        <div class="row">
                            <div class="col-3">
                                <div class="result-item__img">
                                    <img class="img-fluid" src="./assets/images/1579228335359.jpeg" alt="">
                                </div>
                            </div>
                            <div class="col-9 px-0">
                                <div class="d-flex justify-content-between">
                                    <h4 class="result-item__title">
                                        <a class="result-item__link" href="#">Sao Việt Travel (Cabin) </a>
                                        <span class="result-item__rate">
                                            <i class="fas fa-star"></i>
                                        </span>
                                        <span class="result-item__report">
                                            • 118 Đánh giá
                                        </span>
                                    </h4>
                                    <span class="result-item__price">
                                        230,000 đ
                                    </span>
                                </div>
                                <p class="result-item__description">
                                    Limousine giường phòng 21 chỗ
                                </p>
                                <div class="d-flex justify-content-between">
                                    <div class="result-item__time">
                                        <div class="d-flex">
                                            <svg class="TicketPC__LocationRouteSVG-sc-1mxgwjh-4 dSQflF"
                                                xmlns="http://www.w3.org/2000/svg" width="14" height="74"
                                                viewBox="0 0 14 74">
                                                <path fill="none" stroke="#787878" stroke-linecap="round"
                                                    stroke-width="2" stroke-dasharray="0 7" d="M7 13.5v46"></path>
                                                <g fill="none" stroke="#484848" stroke-width="3">
                                                    <circle cx="7" cy="7" r="7" stroke="none"></circle>
                                                    <circle cx="7" cy="7" r="5.5"></circle>
                                                </g>
                                                <path
                                                    d="M7 58a5.953 5.953 0 0 0-6 5.891 5.657 5.657 0 0 0 .525 2.4 37.124 37.124 0 0 0 5.222 7.591.338.338 0 0 0 .506 0 37.142 37.142 0 0 0 5.222-7.582A5.655 5.655 0 0 0 13 63.9 5.953 5.953 0 0 0 7 58zm0 8.95a3.092 3.092 0 0 1-3.117-3.06 3.117 3.117 0 0 1 6.234 0A3.092 3.092 0 0 1 7 66.95z"
                                                    fill="#787878"></path>
                                            </svg>
                                            <ul class="result-item__endpoint pl-4">
                                                <li class="result-item__start">
                                                    21:40 • Bến xe Mỹ Đình
                                                </li>
                                                <li class="result-item__time">
                                                    5h10m
                                                </li>
                                                <li class="result-item__over">
                                                    02:50
                                                    • Bến xe Sapa
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="result-item__detail align-self-end">
                                        <a data-show="#show-detail-1" href="#" class="result-item__detail-link">Thông tin chi tiết
                                            <i class="fas fa-caret-down"></i>
                                        </a> 
                                                                             <button class="btn btn-warning  btn-sm"  type="button" data-toggle="modal" data-target="#exampleModalLongSC-1">Đặt vé</button>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="result-item__detail-desc" id="show-detail-1">
                            <h2>Hình ảnh</h2>
                          <div class="owl-carousel owl-theme">
                                <img class="owl-lazy" data-src="https://placehold.it/350x450&text=1" data-src-retina="https://placehold.it/350x250&text=1-retina" alt="">
                                <img class="owl-lazy" data-src="https://placehold.it/350x650&text=2" data-src-retina="https://placehold.it/350x250&text=2-retina" alt="">
                                <img class="owl-lazy" data-src="https://placehold.it/350x250&text=4" alt="">
                                <img class="owl-lazy" data-src="https://placehold.it/350x250&text=5" alt="">
                                <img class="owl-lazy" data-src="https://placehold.it/350x250&text=6" alt="">
                            </div>
                            <div class="item__detail-service mt-2">
                                Mô tả: 
                                <ul>
                                    <li>
                                        <span>Biển số xe: </span>
                                        <span>09432</span>
                                    </li>
                                    <li>
                                        <span>Lái xe: </span>
                                        <span>09432</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                   
                </div>
            </div>

        </div>
    </div>

    <!-- RESULT  -->
    </div>
       <div class="modal fade" id="exampleModalLongSC-1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitleSC"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title" id="exampleModalLongTitleSC">Thông tin vé</h2>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
      <form class="text-center border border-light p-5 form-book" action="#!">

            <p class="h4 mb-4">Thông tin của bạn</p>

            <!-- Name -->
            <input type="text" id="defaultContactFormName" class="form-control mb-4" placeholder="Họ tên">

            <!-- Email -->
            <input type="email" id="defaultContactFormEmail" class="form-control mb-4" placeholder="E-mail">

            <input type="text" id="defaultContactFormPhone" class="form-control mb-4" placeholder="Số điện thoại">
            
            <input type="text" id="defaultContactFormAdress" class="form-control mb-4" placeholder="Địa chỉ">

            <!-- Subject -->
            <label>Thông tin vé</label>
            <input type="text" id="defaultContactFormPrice" class="form-control mb-4" placeholder="Giá vé" disabled>
            <select class="browser-default custom-select mb-4" style="font-size:1.4rem">
                <option value="" disabled>Chọn ghế</option>
                <option value="1" selected>D1</option>
            </select>

        </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>
            <button type="button" class="btn btn-primary">Đặt Vé</button>
          </div>
        </div>
      </div>
    </div>

    
@section Script{
    <script src="~/assets/js/select2.min.js"></script>
       <script>

        $(function () {
            $('input[id$=datepicker]').datepicker({
                dateFormat: 'dd/mm/yy'
            });
            const now = new Date();
            $("#datepicker").val(now.toLocaleDateString('en-GB'));
        });


        $(document).ready(function () {
            $(".select-start-point").select2({
                tags: "false",
                placeholder: "Điểm xuất phát",
                allowClear: true,
            });
            $(".select-end-point").select2({
                tags: "false",
                placeholder: "Điểm đến",
                allowClear: true
            });
        });


        $(function () {
            $("#slider-range-time").slider({
                range: "time",
                value: 00,
                min: 0,
                max: 24,
                slide: function (event, ui) {
                    $("#amount").val("" + ui.value + ":00");
                }
            });
            $("#amount").val($("#slider-range-time").slider("value") + ":00");
        });

        $(function () {
            $("#slider-range-price").slider({
                range: "price",
                value: 00,
                min: 1,
                max: 20,
                slide: function (event, ui) {
                    $("#price").val("" + ui.value + "00.000 đ");
                }
            });
            $("#price").val($("#slider-range-price").slider("value") + "00.000 đ");
        });
     $('.owl-carousel').owlCarousel({
            items:4,
            lazyLoad:true,
            loop:true,
            margin:10
        });
    </script>   

    <script>
            let btnShowDetails = document.querySelectorAll('.result-item__detail-link');
            btnShowDetails.forEach(function(item){
                item.addEventListener('click', function(event){
                    event.preventDefault();
                    let detail  = document.querySelector(this.dataset.show);
                    let show = true;
                    detail.classList.forEach(item => {
                        if(item === 'active'){
                            detail.classList.remove('active');
                            show = false;
                        }
                    })
                    if(show){
                        detail.classList.add('active');
                    }
                })
            })
        
    </script>

}